function setFillScreenBlocHeight(){$(".bloc-fill-screen").each(function(t){var i=$(this);window.fillBodyHeight=0,$(this).find(".container").each(function(t){fillPadding=2*parseInt($(this).css("padding-top")),i.hasClass("bloc-group")?fillBodyHeight=fillPadding+$(this).outerHeight()+50:fillBodyHeight=fillBodyHeight+fillPadding+$(this).outerHeight()+50}),$(this).css("height",getFillHeight()+"px")})}function getFillHeight(){var t=$(window).height();return t<fillBodyHeight&&(t=fillBodyHeight+100),t}function scrollToTarget(t){1==t?t=0:2==t?t=$(document).height():(t=$(t).offset().top,$(".sticky-nav").length&&(t-=$(".sticky-nav").height())),$("html,body").animate({scrollTop:t},"slow"),$(".navbar-collapse").collapse("hide")}function animateWhenVisible(){hideAll(),inViewCheck(),$(window).scroll(function(){inViewCheck(),scrollToTopView(),stickyNavToggle()})}function setUpDropdownSubs(){$("ul.dropdown-menu [data-toggle=dropdown]").on("click",function(t){t.preventDefault(),t.stopPropagation(),$(this).parent().siblings().removeClass("open"),$(this).parent().toggleClass("open");var i=$(this).parent().children(".dropdown-menu"),e=i.offset().left+i.width();e>$(window).width()&&i.addClass("dropmenu-flow-right")})}function stickyNavToggle(){var t=0,i="sticky";if($(".sticky-nav").hasClass("fill-bloc-top-edge")){var e=$(".fill-bloc-top-edge.sticky-nav").parent().css("background-color");"rgba(0, 0, 0, 0)"==e&&(e="#FFFFFF"),$(".sticky-nav").css("background",e),t=$(".sticky-nav").height(),i="sticky animated fadeInDown"}$(window).scrollTop()>t?($(".sticky-nav").addClass(i),"sticky"==i&&$(".page-container").css("padding-top",$(".sticky-nav").height())):($(".sticky-nav").removeClass(i).removeAttr("style"),$(".page-container").removeAttr("style"))}function hideAll(){$(".animated").each(function(t){$(this).closest(".hero").length||$(this).removeClass("animated").addClass("hideMe")})}function inViewCheck(){$($(".hideMe").get().reverse()).each(function(t){var i=jQuery(this),e=i.offset().top+i.height(),o=$(window).scrollTop()+$(window).height();if(i.height()>$(window).height()&&(e=i.offset().top),o>e){var a=i.attr("class").replace("hideMe","animated");i.css("visibility","hidden").removeAttr("class"),setTimeout(function(){i.attr("class",a).css("visibility","visible")},.01)}})}function scrollToTopView(){$(window).scrollTop()>$(window).height()/3?$(".scrollToTop").hasClass("showScrollTop")||$(".scrollToTop").addClass("showScrollTop"):$(".scrollToTop").removeClass("showScrollTop")}function setUpLightBox(){window.targetLightbox,$(document).on("click","[data-lightbox]",function(t){t.preventDefault(),targetLightbox=$(this);var i=targetLightbox.attr("data-lightbox"),e=targetLightbox.attr("data-autoplay"),o='<p class="lightbox-caption">'+targetLightbox.attr("data-caption")+"</p>",a="no-gallery-set";targetLightbox.attr("data-gallery-id")&&(a=targetLightbox.attr("data-gallery-id")),targetLightbox.attr("data-caption")||(o="");var l="";1==e&&(l="autoplay");var n=$('<div id="lightbox-modal" class="modal fade"><div class="modal-dialog"><div class="modal-content '+targetLightbox.attr("data-frame")+'"><button type="button" class="close close-lightbox" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><div class="modal-body"><a href="#" class="prev-lightbox" aria-label="prev"></a><a href="#" class="next-lightbox" aria-label="next"></a><img id="lightbox-image" class="img-responsive" src="'+i+'"><div id="lightbox-video-container" class="embed-responsive embed-responsive-16by9"><video controls '+l+' class="embed-responsive-item"><source id="lightbox-video" src="'+i+'" type="video/mp4"></video></div>'+o+"</div></div></div></div>");$("body").append(n),".mp4"==i.substring(i.length-4)?($("#lightbox-image, .lightbox-caption").hide(),$("#lightbox-video-container").show()):($("#lightbox-image,.lightbox-caption").show(),$("#lightbox-video-container").hide()),$("#lightbox-modal").modal("show"),"no-gallery-set"==a?(0==$("a[data-lightbox]").index(targetLightbox)&&$(".prev-lightbox").hide(),$("a[data-lightbox]").index(targetLightbox)==$("a[data-lightbox]").length-1&&$(".next-lightbox").hide()):(0==$('a[data-gallery-id="'+a+'"]').index(targetLightbox)&&$(".prev-lightbox").hide(),$('a[data-gallery-id="'+a+'"]').index(targetLightbox)==$('a[data-gallery-id="'+a+'"]').length-1&&$(".next-lightbox").hide())}).on("hidden.bs.modal","#lightbox-modal",function(){$("#lightbox-modal").remove()}),$(document).on("click",".next-lightbox, .prev-lightbox",function(t){t.preventDefault();var i="no-gallery-set",e=$("a[data-lightbox]").index(targetLightbox),o=$("a[data-lightbox]").eq(e+1);targetLightbox.attr("data-gallery-id")&&(i=targetLightbox.attr("data-gallery-id"),e=$('a[data-gallery-id="'+i+'"]').index(targetLightbox),o=$('a[data-gallery-id="'+i+'"]').eq(e+1)),$(this).hasClass("prev-lightbox")&&(o=$('a[data-gallery-id="'+i+'"]').eq(e-1),"no-gallery-set"==i&&(o=$("a[data-lightbox]").eq(e-1)));var a=o.attr("data-lightbox");if(".mp4"==a.substring(a.length-4)){var l=o.attr("data-autoplay"),n="";1==l&&(n="autoplay"),$("#lightbox-image, .lightbox-caption").hide(),$("#lightbox-video-container").show().html("<video controls "+n+' class="embed-responsive-item"><source id="lightbox-video" src="'+a+'" type="video/mp4"></video>')}else $("#lightbox-image").attr("src",a).show(),$(".lightbox-caption").html(o.attr("data-caption")).show(),$("#lightbox-video-container").hide();targetLightbox=o,$(".next-lightbox, .prev-lightbox").hide(),"no-gallery-set"==i?($("a[data-lightbox]").index(o)!=$("a[data-lightbox]").length-1&&$(".next-lightbox").show(),$("a[data-lightbox]").index(o)>0&&$(".prev-lightbox").show()):($('a[data-gallery-id="'+i+'"]').index(o)!=$('a[data-gallery-id="'+i+'"]').length-1&&$(".next-lightbox").show(),$('a[data-gallery-id="'+i+'"]').index(o)>0&&$(".prev-lightbox").show())})}$(document).ready(function(){$("body").append('<div id="page-loading-blocs-notifaction"></div>'),$(".bloc-fill-screen").css("height",$(window).height()+"px"),$("#scroll-hero").click(function(t){t.preventDefault(),$("html,body").animate({scrollTop:$("#scroll-hero").closest(".bloc").height()},"slow")}),setUpDropdownSubs(),setUpLightBox()}),$(window).load(function(){setFillScreenBlocHeight(),animateWhenVisible(),$("#page-loading-blocs-notifaction").remove()}).resize(function(){setFillScreenBlocHeight()}),$(function(){$('[data-toggle="tooltip"]').tooltip()});